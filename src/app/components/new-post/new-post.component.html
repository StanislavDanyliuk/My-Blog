<div class="container">

  <div class="row">

    <div class="col-md-10 my-4 mx-auto">

      <h1 class="my-4">Page Heading
        <small>Secondary Text</small>
      </h1>
      <form id="newPost" [formGroup]="postForm" (ngSubmit)="onSubmit()">
        <!-- Header -->
        <div class="input-group input-group-lg mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon2">Header</span>
          </div>
          <input type="text" class="form-control" id="basic-text" aria-describedby="basic-addon2" #newhead
            formControlName="Header" [ngClass]="{ 'is-invalid': submitted && f.Header.errors }">
          <div *ngIf="submitted && f.Header.errors" class="invalid-feedback">
            <div *ngIf="f.Header.errors.required">Header is required</div>
            <div *ngIf="f.Header.errors.minlength">Header must be at least 4 characters</div>
          </div>
        </div>

        <!-- user -->
        <div class="input-group mb-3" [hidden]='true'>
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon6">User</span>
          </div>
          <input type="text" class="form-control" id="basic-user" aria-describedby="basic-addon" #user
            value="{{(authService.user | async)?.email }}" readonly>
        </div>

        <!-- Description -->
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon3">Description</span>
          </div>
          <input type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3" #newdescription
            formControlName="Description" [ngClass]="{ 'is-invalid': submitted && f.Description.errors }">
          <div *ngIf="submitted && f.Description.errors" class="invalid-feedback">
            <div *ngIf="f.Description.errors.required">Description is required</div>
            <div *ngIf="f.Description.errors.minlength">Description must be at least 4 characters</div>
          </div>
        </div>
        <!-- Date -->

        <div class="input-group mb-3" [hidden]='true'>
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon6">Date</span>
          </div>
          <input type="text" class="form-control" id="basic-date" aria-describedby="basic-addon" #newdate
            value='{{today | date}}'>
        </div>

        <!-- Type -->
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <label class="input-group-text" for="inputGroupSelect01">Type</label>
          </div>
          <select class="custom-select" id="inputGroupSelect01" #newtype>
            <option selected disabled>Choose...</option>
            <option value="One">One</option>
            <option value="Two">Two</option>
            <option value="Three">Three</option>
          </select>
        </div>
        <!-- Img -->
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon5">Link to img</span>
          </div>
          <input type="text" class="form-control" id="basic-img" aria-describedby="basic-addon5" #newimg>
        </div>
        <!-- Toggle -->
        <div class="custom-control custom-switch" [hidden]='true'>
          <input type="checkbox" class="custom-control-input" id="switch1" #newtoggle checked
            (change)='onCheck(newtoggle.checked)'>
          <label class="custom-control-label" for="switch1">Post?</label>
        </div>
        <!-- Message -->
        <div class="input-group my-4">
          <div class="input-group-prepend">
            <span class="input-group-text">Your Post</span>
          </div>
          <textarea class="form-control" aria-label="With textarea" rows="15" #newmsg formControlName="Message"
            [ngClass]="{ 'is-invalid': submitted && f.Message.errors }"></textarea>
          <div *ngIf="submitted && f.Message.errors" class="invalid-feedback">
            <div *ngIf="f.Message.errors.required">Message is required</div>
            <div *ngIf="f.Message.errors.minlength">Message must be at least 100 characters</div>
          </div>
        </div>
        <!-- Button -->
        <div class="input-group my-4">
          <button type="submit" class="btn btn-primary mx-auto btn-lg"
            (click)="save(newhead.value, newdescription.value, newmsg.value, newtype.value, newdate.value, newimg.value, newtoggle.value, user.value);"
            [disabled]="postForm.invalid" onclick="window.location='index.html'">Create
            Post</button>
        </div>
      </form>
    </div>
  </div>
</div>
